{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      products: [],\n      cartItems: this.getStoredCartItems()\n    };\n  },\n  computed: {\n    totalCartItems() {\n      return this.cartItems.reduce((total, item) => total + item.quantity, 0);\n    }\n  },\n  methods: {\n    addToCart(product) {\n      const existingItem = this.cartItems.find(item => item.id === product.id);\n      if (existingItem) {\n        existingItem.quantity++;\n      } else {\n        this.cartItems.push({\n          ...product,\n          quantity: 1\n        });\n      }\n      localStorage.setItem('cartItems', JSON.stringify(this.cartItems));\n    },\n    getStoredCartItems() {\n      const storedCartItems = localStorage.getItem('cartItems');\n      return storedCartItems ? JSON.parse(storedCartItems) : [];\n    }\n  },\n  created() {\n    axios.get('https://shaydurov.space/wp-json/custom-products/v1/products').then(response => {\n      this.products = response.data.map((product, index) => ({\n        ...product,\n        id: index + 1\n      }));\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n};","map":{"version":3,"names":["axios","data","products","cartItems","getStoredCartItems","computed","totalCartItems","reduce","total","item","quantity","methods","addToCart","product","existingItem","find","id","push","localStorage","setItem","JSON","stringify","storedCartItems","getItem","parse","created","get","then","response","map","index","catch","error","console"],"sources":["src/components/ProductList.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto p-4\">\r\n    <header class=\"flex justify-between items-center mb-4\">\r\n      <h1 class=\"text-2xl font-bold\">InternetShop</h1>\r\n      <a href=\"/cart\" class=\"flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">\r\n        <svg class=\"h-6 w-6 mr-2 fill-current\" viewBox=\"0 0 24 24\">\r\n          <path d=\"M21 5H7.16l2.92-2.92A.996.996 0 1 0 8.29.71L2.71 6.29A.996.996 0 0 0 2 7v13c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-.55-.45-1-1-1zm-9 14H4v-2h8v2zm6 0h-4v-2h4v2zM4 10V8h14v2H4zm0 4v-2h14v2H4zm6 3H4v-2h6v2zm6 0h-4v-2h4v2z\"></path>\r\n        </svg>\r\n        Корзина ({{ totalCartItems }})\r\n      </a>\r\n    </header>\r\n    <h2 class=\"text-2xl font-bold\">Каталог товаров</h2>\r\n    <div class=\"grid grid-cols-2 gap-4\">\r\n      <div v-for=\"product in products\" :key=\"product.id\" class=\"bg-white p-4 shadow-md\">\r\n        <h2 class=\"text-lg font-bold\">{{ product.title }}</h2>\r\n        <p class=\"text-gray-600\">{{ product.price }}</p>\r\n        <button @click=\"addToCart(product)\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mt-4 rounded\">\r\n          Добавить в корзину\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      cartItems: this.getStoredCartItems(),\r\n    };\r\n  },\r\n  computed: {\r\n    totalCartItems() {\r\n      return this.cartItems.reduce((total, item) => total + item.quantity, 0);\r\n    },\r\n  },\r\n  methods: {\r\n    addToCart(product) {\r\n      const existingItem = this.cartItems.find(item => item.id === product.id);\r\n      if (existingItem) {\r\n        existingItem.quantity++;\r\n      } else {\r\n        this.cartItems.push({ ...product, quantity: 1 });\r\n      }\r\n      localStorage.setItem('cartItems', JSON.stringify(this.cartItems));\r\n    },\r\n    getStoredCartItems() {\r\n      const storedCartItems = localStorage.getItem('cartItems');\r\n      return storedCartItems ? JSON.parse(storedCartItems) : [];\r\n    },\r\n  },\r\n  created() {\r\n    axios.get('https://shaydurov.space/wp-json/custom-products/v1/products')\r\n      .then(response => {\r\n        this.products = response.data.map((product, index) => ({...product, id: index + 1}));\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"mappings":";AAyBA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,SAAA,OAAAC,kBAAA;IACA;EACA;EACAC,QAAA;IACAC,eAAA;MACA,YAAAH,SAAA,CAAAI,MAAA,EAAAC,KAAA,EAAAC,IAAA,KAAAD,KAAA,GAAAC,IAAA,CAAAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,UAAAC,OAAA;MACA,MAAAC,YAAA,QAAAX,SAAA,CAAAY,IAAA,CAAAN,IAAA,IAAAA,IAAA,CAAAO,EAAA,KAAAH,OAAA,CAAAG,EAAA;MACA,IAAAF,YAAA;QACAA,YAAA,CAAAJ,QAAA;MACA;QACA,KAAAP,SAAA,CAAAc,IAAA;UAAA,GAAAJ,OAAA;UAAAH,QAAA;QAAA;MACA;MACAQ,YAAA,CAAAC,OAAA,cAAAC,IAAA,CAAAC,SAAA,MAAAlB,SAAA;IACA;IACAC,mBAAA;MACA,MAAAkB,eAAA,GAAAJ,YAAA,CAAAK,OAAA;MACA,OAAAD,eAAA,GAAAF,IAAA,CAAAI,KAAA,CAAAF,eAAA;IACA;EACA;EACAG,QAAA;IACAzB,KAAA,CAAA0B,GAAA,gEACAC,IAAA,CAAAC,QAAA;MACA,KAAA1B,QAAA,GAAA0B,QAAA,CAAA3B,IAAA,CAAA4B,GAAA,EAAAhB,OAAA,EAAAiB,KAAA;QAAA,GAAAjB,OAAA;QAAAG,EAAA,EAAAc,KAAA;MAAA;IACA,GACAC,KAAA,CAAAC,KAAA;MACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}