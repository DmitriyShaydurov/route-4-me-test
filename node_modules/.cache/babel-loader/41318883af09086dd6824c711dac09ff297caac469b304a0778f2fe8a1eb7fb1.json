{"ast":null,"code":"import CheckoutModal from './CheckoutModal.vue';\nexport default {\n  components: {\n    CheckoutModal\n  },\n  data() {\n    return {\n      cartItems: [],\n      showModal: false\n    };\n  },\n  computed: {\n    cartTotal() {\n      return this.cartItems.reduce((total, item) => total + item.quantity * item.price, 0);\n    }\n  },\n  methods: {\n    checkout() {\n      this.showModal = true;\n    },\n    finishOrder(orderData) {\n      console.log(orderData);\n      this.cartItems = [];\n      localStorage.removeItem('cartItems');\n      this.showModal = false;\n    }\n  },\n  mounted() {\n    const storedCartItems = localStorage.getItem('cartItems');\n    if (storedCartItems) {\n      this.cartItems = JSON.parse(storedCartItems);\n    } else {\n      this.cartItems = [];\n    }\n  }\n};","map":{"version":3,"names":["CheckoutModal","components","data","cartItems","showModal","computed","cartTotal","reduce","total","item","quantity","price","methods","checkout","finishOrder","orderData","console","log","localStorage","removeItem","mounted","storedCartItems","getItem","JSON","parse"],"sources":["src/components/CartList.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto p-4\">\r\n    <header class=\"flex justify-between items-center mb-4\">\r\n      <h1 class=\"text-2xl font-bold\">Корзина</h1>\r\n      <a href=\"/\" class=\"flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">\r\n        <svg class=\"h-6 w-6 mr-2 fill-current\" viewBox=\"0 0 24 24\">\r\n          <path d=\"M21 5H7.16l2.92-2.92A.996.996 0 1 0 8.29.71L2.71 6.29A.996.996 0 0 0 2 7v13c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-.55-.45-1-1-1zm-9 14H4v-2h8v2zm6 0h-4v-2h4v2zM4 10V8h14v2H4zm0 4v-2h14v2H4zm6 3H4v-2h6v2zm6 0h-4v-2h4v2z\"></path>\r\n        </svg>\r\n        Вернуться в каталог\r\n      </a>\r\n    </header>\r\n    <div v-if=\"cartItems.length === 0\" class=\"text-center text-gray-600\">\r\n      Корзина пуста\r\n    </div>\r\n    <div v-else>\r\n      <table class=\"table-auto w-full\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"px-4 py-2\">Название</th>\r\n            <th class=\"px-4 py-2\">Количество</th>\r\n            <th class=\"px-4 py-2\">Цена</th>\r\n            <th class=\"px-4 py-2\">Сумма</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, index) in cartItems\" :key=\"index\">\r\n            <td class=\"border px-4 py-2\">{{ item.title }}</td>\r\n            <td class=\"border px-4 py-2\">{{ item.quantity }}</td>\r\n            <td class=\"border px-4 py-2\">{{ item.price }}</td>\r\n            <td class=\"border px-4 py-2\">{{ item.quantity * item.price }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div class=\"mt-4 text-right\">\r\n        Общая сумма: {{ cartTotal }}\r\n      </div>\r\n      <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mt-4 rounded\" @click=\"checkout\">\r\n        Оформить заказ\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Модальное окно -->\r\n    <checkout-modal :show-modal=\"showModal\" @order-finished=\"finishOrder\"></checkout-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckoutModal from './CheckoutModal.vue';\r\n\r\nexport default {\r\n  components: {\r\n    CheckoutModal,\r\n  },\r\n  data() {\r\n    return {\r\n      cartItems: [],\r\n      showModal: false,\r\n    };\r\n  },\r\n  computed: {\r\n    cartTotal() {\r\n      return this.cartItems.reduce((total, item) => total + item.quantity * item.price, 0);\r\n    },\r\n  },\r\n  methods: {\r\n    checkout() {\r\n      this.showModal = true;\r\n    },\r\n    finishOrder(orderData) {\r\n      console.log(orderData);\r\n      this.cartItems = [];\r\n      localStorage.removeItem('cartItems');\r\n      this.showModal = false;\r\n    },\r\n  },\r\n  mounted() {\r\n    const storedCartItems = localStorage.getItem('cartItems');\r\n    if (storedCartItems) {\r\n      this.cartItems = JSON.parse(storedCartItems);\r\n    } else {\r\n      this.cartItems = [];\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"mappings":"AA+CA,OAAAA,aAAA;AAEA;EACAC,UAAA;IACAD;EACA;EACAE,KAAA;IACA;MACAC,SAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACAC,UAAA;MACA,YAAAH,SAAA,CAAAI,MAAA,EAAAC,KAAA,EAAAC,IAAA,KAAAD,KAAA,GAAAC,IAAA,CAAAC,QAAA,GAAAD,IAAA,CAAAE,KAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAA;MACA,KAAAT,SAAA;IACA;IACAU,YAAAC,SAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,SAAA;MACA,KAAAZ,SAAA;MACAe,YAAA,CAAAC,UAAA;MACA,KAAAf,SAAA;IACA;EACA;EACAgB,QAAA;IACA,MAAAC,eAAA,GAAAH,YAAA,CAAAI,OAAA;IACA,IAAAD,eAAA;MACA,KAAAlB,SAAA,GAAAoB,IAAA,CAAAC,KAAA,CAAAH,eAAA;IACA;MACA,KAAAlB,SAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}